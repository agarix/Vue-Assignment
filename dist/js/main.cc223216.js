(()=>{"use strict";var t={245:(t,e,o)=>{var s=o(994),a=o(864),r=o(963);const n={id:"app"};function i(t,e,o,i,l,u){const d=(0,a.g2)("ProductList"),c=(0,a.g2)("BasketModal"),p=(0,a.g2)("Basket");return(0,a.uX)(),(0,a.CE)("div",n,[e[4]||(e[4]=(0,a.Lk)("h1",null,"Product Page",-1)),(0,a.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>u.showModal&&u.showModal(...t)),class:"cart-button"}," ðŸ›’ Cart "),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.searchQuery=t),placeholder:"Search Products"},null,512),[[s.Jo,i.searchQuery]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.selectedCategory=t)},[e[3]||(e[3]=(0,a.Lk)("option",{value:""},"All Categories",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.categories,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t},(0,r.v_)(t),1)))),128))],512),[[s.u1,i.selectedCategory]]),(0,a.bF)(d,{onAddToBasket:u.showModal,"search-query":i.searchQuery,"selected-category":i.selectedCategory},null,8,["onAddToBasket","search-query","selected-category"]),(0,a.bF)(c,{isVisible:i.isModalVisible,onClose:u.closeModal},null,8,["isVisible","onClose"]),(0,a.bF)(p)])}var l=o(992);const u={class:"basket"},d={key:0},c=["onClick"],p=["onUpdate:modelValue","onInput"];function m(t,e,o,n,i,l){return(0,a.uX)(),(0,a.CE)("div",u,[e[0]||(e[0]=(0,a.Lk)("h2",null,"Your Basket",-1)),0===l.basketItems.length?((0,a.uX)(),(0,a.CE)("div",d,"Your basket is empty.")):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.basketItems,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"basket-item"},[(0,a.Lk)("p",null,(0,r.v_)(t.title)+" (x"+(0,r.v_)(t.quantity)+")",1),(0,a.Lk)("p",null,(0,r.v_)(t.price.toFixed(2))+" USD each",1),(0,a.Lk)("p",null,"Total: "+(0,r.v_)((t.price*t.quantity).toFixed(2))+" USD",1),(0,a.Lk)("button",{onClick:e=>l.removeItem(t.id)},"Remove",8,c),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,onInput:e=>l.updateQuantity(t.id,t.quantity),min:"1"},null,40,p),[[s.Jo,t.quantity,void 0,{number:!0}]])])))),128)),(0,a.Lk)("h3",null,"Total Amount: "+(0,r.v_)(l.totalAmount.toFixed(2))+" USD",1)])}const k={computed:{basketItems(){return this.$store.getters.basket},totalAmount(){return this.$store.getters.totalAmount}},methods:{removeItem(t){this.$store.commit("removeFromBasket",t)},updateQuantity(t,e){e>0?this.$store.commit("updateQuantity",{productId:t,quantity:e}):this.removeItem(t)}}};var h=o(262);const y=(0,h.A)(k,[["render",m],["__scopeId","data-v-0eb5067e"]]),b=y,v={class:"product-grid"},g=["src","alt"],C=["onClick"];function f(t,e,o,s,n,i){return(0,a.uX)(),(0,a.CE)("div",v,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.filteredProducts,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"product-item"},[(0,a.Lk)("img",{src:t.thumbnail,alt:t.title},null,8,g),(0,a.Lk)("h3",null,(0,r.v_)(t.title),1),(0,a.Lk)("p",null,(0,r.v_)(t.description),1),(0,a.Lk)("p",null,(0,r.v_)(t.price)+" USD",1),(0,a.Lk)("button",{onClick:e=>i.addToBasket(t)},"Add to Basket",8,C)])))),128))])}var L=o(335);const I={props:{searchQuery:{type:String,required:!0},selectedCategory:{type:String,required:!0}},data(){return{products:[]}},computed:{filteredProducts(){return this.products.filter((t=>(""===this.selectedCategory||t.category===this.selectedCategory)&&t.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}},created(){L.A.get("https://dummyjson.com/products").then((t=>{this.products=t.data.products})).catch((t=>{console.error("Error fetching products:",t)}))},methods:{addToBasket(t){console.log("Adding to basket:",t),this.$store.commit("addToBasket",t),this.$emit("add-to-basket"),console.log("Current basket state:",this.$store.state.basket)}}},_=(0,h.A)(I,[["render",f],["__scopeId","data-v-2be41267"]]),q=_,A={class:"modal-content"},E={key:0},w=["onClick"],B=["onUpdate:modelValue","onInput"];function F(t,e,o,n,i,l){return o.isVisible?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal-overlay",onClick:e[1]||(e[1]=(0,s.D$)(((...t)=>l.close&&l.close(...t)),["self"]))},[(0,a.Lk)("div",A,[e[2]||(e[2]=(0,a.Lk)("h2",null,"Your Basket",-1)),0===l.basketItems.length?((0,a.uX)(),(0,a.CE)("div",E,"Your basket is empty.")):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.basketItems,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"basket-item"},[(0,a.Lk)("p",null,(0,r.v_)(t.title)+" (x"+(0,r.v_)(t.quantity)+")",1),(0,a.Lk)("p",null,(0,r.v_)(t.price)+" USD each",1),(0,a.Lk)("p",null,"Total: "+(0,r.v_)((t.price*t.quantity).toFixed(2))+" USD",1),(0,a.Lk)("button",{onClick:e=>l.removeItem(t.id)},"Remove",8,w),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,onInput:e=>l.updateQuantity(t.id,t.quantity),min:"1"},null,40,B),[[s.Jo,t.quantity]])])))),128)),(0,a.Lk)("h3",null,"Total Amount: "+(0,r.v_)(l.totalAmount.toFixed(2))+" USD",1),(0,a.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"Close")])])):(0,a.Q3)("",!0)}const M={props:["isVisible"],computed:{basketItems(){return this.$store.state.basket},totalAmount(){return this.$store.getters.totalAmount}},methods:{close(){this.$emit("close")},removeItem(t){this.$store.commit("removeFromBasket",t)},updateQuantity(t,e){e>0?this.$store.commit("updateQuantity",{productId:t,quantity:e}):this.removeItem(t)}}},Q=(0,h.A)(M,[["render",F],["__scopeId","data-v-97309710"]]),S=Q,V={components:{ProductList:q,Basket:b,BasketModal:S},setup(){const t=(0,l.KR)(""),e=(0,l.KR)(""),o=(0,l.KR)([]),s=(0,l.KR)(!1);(0,a.sV)((()=>{fetch("https://dummyjson.com/products/categories").then((t=>t.json())).then((t=>{o.value=t}))}));const r=()=>{console.log("Opening the basket modal"),s.value=!0},n=()=>{s.value=!1};return{isModalVisible:s,searchQuery:t,selectedCategory:e,categories:o,showModal:r,closeModal:n}},methods:{showModal(){console.log("Showing modal"),this.isModalVisible=!0},closeModal(){this.isModalVisible=!1}}},O=(0,h.A)(V,[["render",i]]),T=O;var X=o(499);const $=(0,X.y$)({state:{basket:[]},mutations:{addToBasket(t,e){const o=t.basket.find((t=>t.id===e.id));o?o.quantity++:t.basket.push({...e,quantity:1})},removeFromBasket(t,e){t.basket=t.basket.filter((t=>t.id!==e))},updateQuantity(t,{productId:e,quantity:o}){const s=t.basket.find((t=>t.id===e));s&&(s.quantity=o)}},getters:{basket(t){return t.basket},totalAmount(t){return t.basket.reduce(((t,e)=>t+e.price*e.quantity),0)}}}),j=(0,s.Ef)(T);j.use($),j.mount("#app")}},e={};function o(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,o),r.exports}o.m=t,(()=>{var t=[];o.O=(e,s,a,r)=>{if(!s){var n=1/0;for(d=0;d<t.length;d++){for(var[s,a,r]=t[d],i=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(o.O).every((t=>o.O[t](s[l])))?s.splice(l--,1):(i=!1,r<n&&(n=r));if(i){t.splice(d--,1);var u=a();void 0!==u&&(e=u)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[s,a,r]}})(),(()=>{o.d=(t,e)=>{for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{o.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={792:0};o.O.j=e=>0===t[e];var e=(e,s)=>{var a,r,[n,i,l]=s,u=0;if(n.some((e=>0!==t[e]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var d=l(o)}for(e&&e(s);u<n.length;u++)r=n[u],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(d)},s=self["webpackChunkyour_project_name"]=self["webpackChunkyour_project_name"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var s=o.O(void 0,[504],(()=>o(245)));s=o.O(s)})();
//# sourceMappingURL=main.cc223216.js.map